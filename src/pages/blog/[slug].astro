---
import type { Post } from '../../../sanity.types';
import Layout from '../../component/Layout.astro';

import { sanityClient } from 'sanity:client';

export async function getStaticPaths() {
  const posts = await sanityClient.fetch<Post[]>(`*[_type == "post"]`);

  return posts.map(({ slug, title }) => {
    return {
      params: { slug: slug?.current },
      props: { title },
    };
  });
}

const { title } = Astro.props;
---

<Layout title='blog post'>
  <h1 class='m-2 text-xl text-purple-600'>{title}</h1>
</Layout>
